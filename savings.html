<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Savings Module - Financial App Wireframe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .phone-frame {
            width: 375px;
            height: 667px;
            border: 12px solid #333;
            border-radius: 36px;
            position: relative;
            overflow: hidden;
            background: white;
            margin: 0 auto;
        }
        
        .screen-content {
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .screen {
            display: none;
            height: 100%;
        }
        
        .screen.active {
            display: block;
        }

        .header-bar {
            background: white;
            border-bottom: 1px solid #E5E7EB;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 56px;
            flex-shrink: 0;
        }

        .content-area {
            height: calc(100% - 56px);
            overflow-y: auto;
            padding: 16px;
            background: #F9FAFB;
        }

        .card {
            background: white;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .input-field {
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            padding: 12px;
            background: white;
            width: 100%;
            font-size: 16px;
        }

        .input-field:focus {
            outline: none;
            border-color: #3B82F6;
            background-color: #F8FAFC;
        }

        .button-primary {
            background: #10B981;
            color: white;
            border: 2px solid #10B981;
            border-radius: 8px;
            padding: 12px 16px;
            font-weight: 600;
            text-center;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
        }

        .button-primary:hover {
            background: #059669;
            border-color: #059669;
        }

        .button-primary:disabled {
            background: #D1D5DB;
            border-color: #D1D5DB;
            color: #9CA3AF;
            cursor: not-allowed;
        }

        .button-secondary {
            background: white;
            color: #4B5563;
            border: 2px solid #D1D5DB;
            border-radius: 8px;
            padding: 12px 16px;
            font-weight: 600;
            text-center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button-secondary:hover {
            background: #F9FAFB;
            border-color: #9CA3AF;
        }

        .progress-bar {
            height: 12px;
            background: #E5E7EB;
            border-radius: 6px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.3s ease;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            margin: 0 4px;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: #10B981;
            transform: scale(1.2);
        }

        .step-dot.completed {
            background: #059669;
        }

        .calculator-card {
            background: linear-gradient(135deg, #EBF8FF 0%, #F0F9FF 100%);
            border: 2px solid #3B82F6;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .result-card {
            background: linear-gradient(135deg, #ECFDF5 0%, #F0FDF4 100%);
            border: 2px solid #10B981;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            text-align: center;
        }

        .warning-card {
            background: linear-gradient(135deg, #FFFBEB 0%, #FEF3C7 100%);
            border: 2px solid #F59E0B;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .info-card {
            background: #F0F9FF;
            border: 2px solid #3B82F6;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #F3F4F6;
        }

        .expense-item:last-child {
            border-bottom: none;
        }

        .frequency-option {
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .frequency-option:hover {
            border-color: #9CA3AF;
            background: #F9FAFB;
        }

        .frequency-option.selected {
            border-color: #10B981;
            background: #ECFDF5;
            color: #059669;
        }

        .savings-method {
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .savings-method:hover {
            border-color: #9CA3AF;
            background: #F9FAFB;
        }

        .savings-method.selected {
            border-color: #3B82F6;
            background: #EBF8FF;
            color: #1D4ED8;
        }

        .milestone-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .milestone-item.completed {
            border-color: #10B981;
            background: #ECFDF5;
        }

        .circular-progress {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(#10B981 0deg 144deg, #E5E7EB 144deg 360deg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
        }

        .circular-progress::before {
            content: '';
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: white;
            position: absolute;
        }

        .progress-text {
            position: relative;
            z-index: 1;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    <div class="phone-frame">

        <!-- Emergency Savings Introduction -->
        <div id="intro-screen" class="screen active">
            <div class="screen-content">
                <!-- Header -->
                <div class="header-bar">
        <button onclick="window.location.href='dashboard.html?quiz=completed'" class="text-gray-600">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
                    <h1 class="text-lg font-semibold">Emergency Savings</h1>
                    <div class="w-6 h-6"></div>
                </div>

                <!-- Content -->
                <div class="content-area">
                    <!-- Introduction Card -->
                    <div class="info-card">
                        <div class="text-center mb-4">
                            <div class="w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center">
                                <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                </svg>
                            </div>
                            <h2 class="text-xl font-bold text-blue-800 mb-2">Build Your Safety Net</h2>
                            <p class="text-sm text-blue-700">An emergency fund protects you and your family from unexpected expenses</p>
                        </div>
                    </div>

                    <!-- Why Emergency Fund -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Why Do You Need Emergency Savings?</h3>
                        <div class="space-y-3">
                            <div class="flex items-start gap-3">
                                <div class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                </div>
                                <div>
                                    <div class="font-medium text-sm">Medical Emergencies</div>
                                    <div class="text-xs text-gray-600">Hospital bills, sudden illness, family health issues</div>
                                </div>
                            </div>
                            
                            <div class="flex items-start gap-3">
                                <div class="w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <div class="w-3 h-3 bg-orange-500 rounded-full"></div>
                                </div>
                                <div>
                                    <div class="font-medium text-sm">Job Loss or Income Reduction</div>
                                    <div class="text-xs text-gray-600">Business slowdown, husband's job loss, reduced hours</div>
                                </div>
                            </div>
                            
                            <div class="flex items-start gap-3">
                                <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                </div>
                                <div>
                                    <div class="font-medium text-sm">Home & Family Emergencies</div>
                                    <div class="text-xs text-gray-600">House repairs, appliance breakdown, child's needs</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="card bg-green-50 border-green-200">
                        <h3 class="font-semibold mb-3 text-green-800">Recommended Emergency Fund</h3>
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div>
                                <div class="text-2xl font-bold text-green-600">3-6</div>
                                <div class="text-xs text-green-700">Months of Expenses</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-green-600">5%</div>
                                <div class="text-xs text-green-700">Of Monthly Income</div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="space-y-3">
                        <button class="button-primary" onclick="goToCalculator()">
                            Calculate My Emergency Fund
                        </button>
                        <button class="button-secondary" onclick="goToProgress()">
                            View My Progress
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency Fund Calculator -->
        <div id="calculator-screen" class="screen">
            <div class="screen-content">
                <!-- Header -->
                <div class="header-bar">
                    <button onclick="goToIntro()" class="text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-lg font-semibold">Emergency Fund Calculator</h1>
                    <div class="w-6 h-6"></div>
                </div>

                <!-- Content -->
                <div class="content-area">
                    <!-- Step Indicator -->
                    <div class="step-indicator">
                        <div class="step-dot active" id="step-1-dot"></div>
                        <div class="step-dot" id="step-2-dot"></div>
                        <div class="step-dot" id="step-3-dot"></div>
                    </div>

                    <!-- Step 1: Monthly Expenses -->
                    <div id="step-1" class="calculator-step">
                        <div class="calculator-card">
                            <h3 class="font-semibold mb-3 text-blue-800">Step 1: Calculate Your Monthly Expenses</h3>
                            <p class="text-sm text-blue-700 mb-4">Add up all your essential monthly expenses</p>
                        </div>

                        <div class="card">
                            <h4 class="font-semibold mb-3">Essential Monthly Expenses</h4>
                            <div class="space-y-3">
                                <div class="expense-item">
                                    <span class="text-sm">Rent/Home costs</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="rent-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Groceries & food</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="food-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Utility bills</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="utilities-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Transport</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="transport-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Childcare & education</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="childcare-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Medical & insurance</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="medical-input" oninput="calculateTotal()">
                                </div>
                                <div class="expense-item">
                                    <span class="text-sm">Other essentials</span>
                                    <input type="number" placeholder="0" class="input-field w-24 text-right" id="other-input" oninput="calculateTotal()">
                                </div>
                                
                                <div class="border-t pt-3 mt-3">
                                    <div class="expense-item">
                                        <span class="font-semibold">Total Monthly Expenses</span>
                                        <span class="font-bold text-lg" id="total-expenses">PKR 0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="button-primary" id="step-1-continue" onclick="goToStep2()" disabled style="opacity: 0.5;">
                            Continue to Step 2
                        </button>
                    </div>

                    <!-- Step 2: Choose Duration -->
                    <div id="step-2" class="calculator-step" style="display: none;">
                        <div class="calculator-card">
                            <h3 class="font-semibold mb-3 text-blue-800">Step 2: Choose Your Safety Level</h3>
                            <p class="text-sm text-blue-700 mb-4">How many months of expenses do you want to save?</p>
                        </div>

                        <div class="card">
                            <h4 class="font-semibold mb-3">Emergency Fund Duration</h4>
                            <div class="space-y-3">
                                <div class="frequency-option" onclick="selectDuration(3, this)">
                                    <div class="font-medium">3 Months</div>
                                    <div class="text-sm text-gray-600">Basic safety net - Good for stable income</div>
                                    <div class="text-xs text-gray-500 mt-1" id="amount-3">PKR 0</div>
                                </div>
                                
                                <div class="frequency-option" onclick="selectDuration(6, this)">
                                    <div class="font-medium">6 Months (Recommended)</div>
                                    <div class="text-sm text-gray-600">Strong protection - Ideal for most families</div>
                                    <div class="text-xs text-gray-500 mt-1" id="amount-6">PKR 0</div>
                                </div>
                                
                                <div class="frequency-option" onclick="selectDuration(9, this)">
                                    <div class="font-medium">9 Months</div>
                                    <div class="text-sm text-gray-600">Maximum security - For uncertain income</div>
                                    <div class="text-xs text-gray-500 mt-1" id="amount-9">PKR 0</div>
                                </div>
                            </div>
                        </div>

                        <button class="button-primary" id="step-2-continue" onclick="goToStep3()" disabled style="opacity: 0.5;">
                            Continue to Results
                        </button>
                    </div>

                    <!-- Step 3: Results & Recommendations -->
                    <div id="step-3" class="calculator-step" style="display: none;">
                        <div class="result-card">
                            <h3 class="font-semibold mb-3 text-green-800">Your Emergency Fund Goal</h3>
                            <div class="text-4xl font-bold text-green-600 mb-2" id="final-goal">PKR 0</div>
                            <div class="text-sm text-green-700" id="final-months">0 months of expenses</div>
                        </div>

                        <div class="card">
                            <h4 class="font-semibold mb-3">Recommended Savings Plan</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-sm">Save monthly (5% of income):</span>
                                    <span class="font-medium" id="monthly-save">PKR 0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm">Time to reach goal:</span>
                                    <span class="font-medium" id="time-to-goal">0 months</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm">Save weekly:</span>
                                    <span class="font-medium" id="weekly-save">PKR 0</span>
                                </div>
                            </div>
                        </div>

                        <div class="warning-card">
                            <h4 class="font-semibold mb-2 text-yellow-800">💡 Smart Tips</h4>
                            <div class="text-sm text-yellow-700 space-y-1">
                                <div>• Start small - even PKR 500/month helps</div>
                                <div>• Keep emergency money in a separate account</div>
                                <div>• Only use for real emergencies</div>
                                <div>• Refill after using emergency funds</div>
                            </div>
                        </div>

                        <div class="space-y-3">
                            <button class="button-primary" onclick="startSaving()">
                                Start My Emergency Fund
                            </button>
                            <button class="button-secondary" onclick="goToProgress()">
                                View My Progress
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency Fund Progress -->
        <div id="progress-screen" class="screen">
            <div class="screen-content">
                <!-- Header -->
                <div class="header-bar">
                    <button onclick="goToIntro()" class="text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-lg font-semibold">My Emergency Fund</h1>
                    <button onclick="goToSettings()" class="text-sm text-blue-600 font-medium">Settings</button>
                </div>

                <!-- Content -->
                <div class="content-area">
                    <!-- Progress Overview -->
                    <div class="card">
                        <div class="circular-progress">
                            <div class="progress-text">
                                <div class="text-lg font-bold text-green-600">40%</div>
                                <div class="text-xs text-gray-600">Complete</div>
                            </div>
                        </div>
                        
                        <div class="text-center mb-4">
                            <h3 class="font-semibold text-lg mb-2">PKR 60,000 Saved</h3>
                            <p class="text-sm text-gray-600">Goal: PKR 150,000 (6 months)</p>
                        </div>

                        <div class="progress-bar">
                            <div class="progress-fill bg-green-500" style="width: 40%"></div>
                        </div>

                        <div class="grid grid-cols-3 gap-4 mt-4 text-center">
                            <div>
                                <div class="text-lg font-bold text-gray-800">PKR 90,000</div>
                                <div class="text-xs text-gray-500">Remaining</div>
                            </div>
                            <div>
                                <div class="text-lg font-bold text-blue-600">18</div>
                                <div class="text-xs text-gray-500">Months to go</div>
                            </div>
                            <div>
                                <div class="text-lg font-bold text-green-600">PKR 5,000</div>
                                <div class="text-xs text-gray-500">Monthly saving</div>
                            </div>
                        </div>
                    </div>

                    <!-- Savings Milestones -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Savings Milestones</h3>
                        <div class="space-y-3">
                            <div class="milestone-item completed">
                                <div>
                                    <div class="font-medium text-sm">First PKR 25,000</div>
                                    <div class="text-xs text-gray-500">1 month of expenses ✓</div>
                                </div>
                                <div class="text-green-600 font-medium">Completed</div>
                            </div>
                            
                            <div class="milestone-item completed">
                                <div>
                                    <div class="font-medium text-sm">PKR 50,000</div>
                                    <div class="text-xs text-gray-500">2 months of expenses ✓</div>
                                </div>
                                <div class="text-green-600 font-medium">Completed</div>
                            </div>
                            
                            <div class="milestone-item">
                                <div>
                                    <div class="font-medium text-sm">PKR 75,000</div>
                                    <div class="text-xs text-gray-500">3 months of expenses</div>
                                </div>
                                <div class="text-gray-500 font-medium">PKR 15,000 to go</div>
                            </div>
                            
                            <div class="milestone-item">
                                <div>
                                    <div class="font-medium text-sm">PKR 150,000</div>
                                    <div class="text-xs text-gray-500">6 months - Final goal!</div>
                                </div>
                                <div class="text-gray-500 font-medium">PKR 90,000 to go</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Recent Savings</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="font-medium text-sm">Monthly Savings</div>
                                    <div class="text-xs text-gray-500">November 2024</div>
                                </div>
                                <span class="font-medium text-green-600">+PKR 5,000</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="font-medium text-sm">Bonus Savings</div>
                                    <div class="text-xs text-gray-500">October 2024</div>
                                </div>
                                <span class="font-medium text-green-600">+PKR 2,000</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="font-medium text-sm">Monthly Savings</div>
                                    <div class="text-xs text-gray-500">October 2024</div>
                                </div>
                                <span class="font-medium text-green-600">+PKR 5,000</span>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="space-y-3">
                        <button class="button-primary">
                            Add to Emergency Fund
                        </button>
                        <button class="button-secondary" onclick="goToCalculator()">
                            Recalculate Goal
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency Fund Settings -->
        <div id="settings-screen" class="screen">
            <div class="screen-content">
                <!-- Header -->
                <div class="header-bar">
                    <button onclick="goToProgress()" class="text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <h1 class="text-lg font-semibold">Emergency Fund Settings</h1>
                    <button onclick="saveSettings()" class="text-sm text-green-600 font-medium">Save</button>
                </div>

                <!-- Content -->
                <div class="content-area">
                    <!-- Goal Settings -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Savings Goal</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Target Amount</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-3 text-gray-500 font-medium">PKR</span>
                                    <input type="number" value="150000" class="input-field pl-16" id="goal-amount">
                                </div>
                                <div class="text-xs text-gray-500 mt-1">Equivalent to 6 months of expenses</div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">Target Duration</label>
                                <div class="grid grid-cols-3 gap-2">
                                    <div class="frequency-option" onclick="selectGoalDuration(3, this)">
                                        <div class="font-medium text-sm">3 Months</div>
                                    </div>
                                    <div class="frequency-option selected" onclick="selectGoalDuration(6, this)">
                                        <div class="font-medium text-sm">6 Months</div>
                                    </div>
                                    <div class="frequency-option" onclick="selectGoalDuration(9, this)">
                                        <div class="font-medium text-sm">9 Months</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Savings Frequency -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">How Often Do You Want to Save?</h3>
                        <div class="space-y-3">
                            <div class="frequency-option selected" onclick="selectFrequency('monthly', this)">
                                <div class="font-medium">Monthly</div>
                                <div class="text-sm text-gray-600">Save once per month - PKR 5,000</div>
                            </div>
                            
                            <div class="frequency-option" onclick="selectFrequency('weekly', this)">
                                <div class="font-medium">Weekly</div>
                                <div class="text-sm text-gray-600">Save every week - PKR 1,250</div>
                            </div>
                            
                            <div class="frequency-option" onclick="selectFrequency('daily', this)">
                                <div class="font-medium">Daily</div>
                                <div class="text-sm text-gray-600">Save every day - PKR 167</div>
                            </div>
                        </div>
                    </div>

                    <!-- Savings Methods -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Where Do You Want to Save?</h3>
                        <div class="space-y-3">
                            <div class="savings-method selected" onclick="selectMethod('bank', this)">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <div class="w-4 h-4 bg-blue-500 rounded"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium text-sm">Bank Savings Account</div>
                                        <div class="text-xs text-gray-600">Safe, earns small interest, easy access</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="savings-method" onclick="selectMethod('cash', this)">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                        <div class="w-4 h-4 bg-green-500 rounded"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium text-sm">Cash at Home</div>
                                        <div class="text-xs text-gray-600">Immediate access, but less secure</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="savings-method" onclick="selectMethod('committee', this)">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                        <div class="w-4 h-4 bg-purple-500 rounded"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium text-sm">Savings Committee (Committee)</div>
                                        <div class="text-xs text-gray-600">Disciplined saving with friends/family</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="savings-method" onclick="selectMethod('digital', this)">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                        <div class="w-4 h-4 bg-orange-500 rounded"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium text-sm">Digital Wallet (JazzCash/Easypaisa)</div>
                                        <div class="text-xs text-gray-600">Convenient mobile savings</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reminders -->
                    <div class="card">
                        <h3 class="font-semibold mb-3">Savings Reminders</h3>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-4 h-4" checked>
                                <div>
                                    <div class="text-sm font-medium">Monthly savings reminder</div>
                                    <div class="text-xs text-gray-500">Remind me on the 1st of each month</div>
                                </div>
                            </label>
                            
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-4 h-4" checked>
                                <div>
                                    <div class="text-sm font-medium">Progress updates</div>
                                    <div class="text-xs text-gray-500">Show me milestone achievements</div>
                                </div>
                            </label>
                            
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-4 h-4">
                                <div>
                                    <div class="text-sm font-medium">Emergency fund tips</div>
                                    <div class="text-xs text-gray-500">Weekly money-saving tips</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="card bg-yellow-50 border-yellow-200">
                        <h3 class="font-semibold mb-3 text-yellow-800">Quick Actions</h3>
                        <div class="space-y-2">
                            <button class="button-secondary w-full" onclick="pauseSavings()">
                                Pause Savings Plan
                            </button>
                            <button class="button-secondary w-full" onclick="resetGoal()">
                                Reset Emergency Fund Goal
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let calculatorData = {
            monthlyExpenses: 0,
            selectedDuration: 0,
            emergencyGoal: 0,
            monthlyIncome: 85000 // Mock income for calculations
        };

        // Navigation functions
        function goBackToDashboard() {
            alert('Going back to dashboard');
        }

        function goToIntro() {
            showScreen('intro-screen');
        }

        function goToCalculator() {
            showScreen('calculator-screen');
            resetCalculator();
        }

        function goToProgress() {
            showScreen('progress-screen');
        }

        function goToSettings() {
            showScreen('settings-screen');
        }

        // Calculator functions
        function calculateTotal() {
            const rent = parseFloat(document.getElementById('rent-input').value) || 0;
            const food = parseFloat(document.getElementById('food-input').value) || 0;
            const utilities = parseFloat(document.getElementById('utilities-input').value) || 0;
            const transport = parseFloat(document.getElementById('transport-input').value) || 0;
            const childcare = parseFloat(document.getElementById('childcare-input').value) || 0;
            const medical = parseFloat(document.getElementById('medical-input').value) || 0;
            const other = parseFloat(document.getElementById('other-input').value) || 0;

            const total = rent + food + utilities + transport + childcare + medical + other;
            calculatorData.monthlyExpenses = total;

            document.getElementById('total-expenses').textContent = `PKR ${total.toLocaleString()}`;

            // Enable/disable continue button
            const continueBtn = document.getElementById('step-1-continue');
            if (total > 0) {
                continueBtn.disabled = false;
                continueBtn.style.opacity = '1';
            } else {
                continueBtn.disabled = true;
                continueBtn.style.opacity = '0.5';
            }
        }

        function goToStep2() {
            // Update step indicator
            document.getElementById('step-1-dot').classList.remove('active');
            document.getElementById('step-1-dot').classList.add('completed');
            document.getElementById('step-2-dot').classList.add('active');

            // Hide step 1, show step 2
            document.getElementById('step-1').style.display = 'none';
            document.getElementById('step-2').style.display = 'block';

            // Update duration amounts
            const monthly = calculatorData.monthlyExpenses;
            document.getElementById('amount-3').textContent = `PKR ${(monthly * 3).toLocaleString()}`;
            document.getElementById('amount-6').textContent = `PKR ${(monthly * 6).toLocaleString()}`;
            document.getElementById('amount-9').textContent = `PKR ${(monthly * 9).toLocaleString()}`;
        }

        function selectDuration(months, element) {
            calculatorData.selectedDuration = months;
            calculatorData.emergencyGoal = calculatorData.monthlyExpenses * months;

            // Update selection
            document.querySelectorAll('.frequency-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');

            // Enable continue button
            const continueBtn = document.getElementById('step-2-continue');
            continueBtn.disabled = false;
            continueBtn.style.opacity = '1';
        }

        function goToStep3() {
            // Update step indicator
            document.getElementById('step-2-dot').classList.remove('active');
            document.getElementById('step-2-dot').classList.add('completed');
            document.getElementById('step-3-dot').classList.add('active');

            // Hide step 2, show step 3
            document.getElementById('step-2').style.display = 'none';
            document.getElementById('step-3').style.display = 'block';

            // Update results
            updateResults();
        }

        function updateResults() {
            const goal = calculatorData.emergencyGoal;
            const monthlySave = Math.round(calculatorData.monthlyIncome * 0.05); // 5% of income
            const timeToGoal = Math.ceil(goal / monthlySave);
            const weeklySave = Math.round(monthlySave / 4);

            document.getElementById('final-goal').textContent = `PKR ${goal.toLocaleString()}`;
            document.getElementById('final-months').textContent = `${calculatorData.selectedDuration} months of expenses`;
            document.getElementById('monthly-save').textContent = `PKR ${monthlySave.toLocaleString()}`;
            document.getElementById('time-to-goal').textContent = `${timeToGoal} months`;
            document.getElementById('weekly-save').textContent = `PKR ${weeklySave.toLocaleString()}`;
        }

        function resetCalculator() {
            // Reset all inputs
            document.querySelectorAll('#step-1 input').forEach(input => input.value = '');
            document.getElementById('total-expenses').textContent = 'PKR 0';
            
            // Reset calculator data
            calculatorData = {
                monthlyExpenses: 0,
                selectedDuration: 0,
                emergencyGoal: 0,
                monthlyIncome: 85000
            };

            // Reset step indicator
            document.querySelectorAll('.step-dot').forEach(dot => {
                dot.classList.remove('active', 'completed');
            });
            document.getElementById('step-1-dot').classList.add('active');

            // Show only step 1
            document.getElementById('step-1').style.display = 'block';
            document.getElementById('step-2').style.display = 'none';
            document.getElementById('step-3').style.display = 'none';

            // Disable continue buttons
            document.getElementById('step-1-continue').disabled = true;
            document.getElementById('step-1-continue').style.opacity = '0.5';
            document.getElementById('step-2-continue').disabled = true;
            document.getElementById('step-2-continue').style.opacity = '0.5';
        }

        // Settings functions
        function selectGoalDuration(months, element) {
            document.querySelectorAll('#settings-screen .frequency-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function selectFrequency(frequency, element) {
            document.querySelectorAll('#settings-screen .frequency-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function selectMethod(method, element) {
            document.querySelectorAll('.savings-method').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function startSaving() {
            alert('Emergency fund started! You can now track your progress.');
            goToProgress();
        }

        function saveSettings() {
            alert('Settings saved successfully!');
            goToProgress();
        }

        function pauseSavings() {
            alert('Savings plan paused. You can resume anytime.');
        }

        function resetGoal() {
            alert('Emergency fund goal reset. Please recalculate your target.');
            goToCalculator();
        }

        // Utility function to show screens
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }
    </script>
</body>
</html>